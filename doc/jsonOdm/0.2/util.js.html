<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>jsonOdm v0.2.1</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <script src="scripts/jquery-2.1.1.min.js"> </script>
    <script src="scripts/page.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link href='//fonts.googleapis.com/css?family=Open+Sans:400italic,300,700,600,400' rel='stylesheet' type='text/css'>
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link href="styles/bootstrap.min.css" rel="stylesheet">
    <link href="styles/docs.css" rel="stylesheet">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
  </head>
  <body>
    <header class="header navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="navbar-brand" href="/">
            jsonOdm v0.2.1
          </a>
          <div class="navbar-right">
            <div class="external-links">
              <i class="fa fa-github"></i>
            </div>
          </div>
        </div>
      </div>
    </header>

    <div class="primary-content container-fluid">
      <div class="row-fluid">
          <div class="sidenav col-md-3">
            


<div class="module-list">
  <h3>Modules</h3>
  <ul class="module-listing">
  
    <li data-module-name="jsonOdm" class="collapsed collapsable module-item">
      <span class="collapsed-status">
        <i class="expand fa fa-plus-square-o"></i>
        <i class="collapse fa fa-minus-square-o"></i>
      </span>

      jsonOdm
      <ul class="thing-list">
        

          

  <li class="thing">

    
      <i class="fa fa-cube"></i>
    

    

    

    

    <a href="jsonOdm.Geo.BoundaryBox.html">BoundaryBox</a>
  </li>



          <ul class="thing-list">
            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.BoundaryBox.html#within">within</a>
  </li>


            
          </ul>

        

          

  <li class="thing">

    
      <i class="fa fa-cube"></i>
    

    

    

    

    <a href="jsonOdm.Collection.html">Collection</a>
  </li>



          <ul class="thing-list">
            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Collection.html#decorate">decorate</a>
  </li>


            
          </ul>

        

          

  <li class="thing">

    
      <i class="fa fa-cube"></i>
    

    

    

    

    <a href="jsonOdm.Geo.Feature.html">Feature</a>
  </li>



          <ul class="thing-list">
            
          </ul>

        

          

  <li class="thing">

    
      <i class="fa fa-cube"></i>
    

    

    

    

    <a href="jsonOdm.Geo.FeatureCollection.html">FeatureCollection</a>
  </li>



          <ul class="thing-list">
            
          </ul>

        

          

  <li class="thing">

    
      <i class="fa fa-cube"></i>
    

    

    

    

    <a href="jsonOdm.Geo.html">Geo</a>
  </li>



          <ul class="thing-list">
            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.html#detectAsGeometry">detectAsGeometry</a>
  </li>


            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.html#edgeIntersectsBounds">edgeIntersectsBounds</a>
  </li>


            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.html#edgeIntersectsEdge">edgeIntersectsEdge</a>
  </li>


            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.html#edgeIntersectsLineString">edgeIntersectsLineString</a>
  </li>


            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.html#edgeIntersectsPolygon">edgeIntersectsPolygon</a>
  </li>


            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.html#edgeWithinPolygon">edgeWithinPolygon</a>
  </li>


            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.html#lineStringWithinLineString">lineStringWithinLineString</a>
  </li>


            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.html#pointWithinBounds">pointWithinBounds</a>
  </li>


            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.html#pointWithinLineString">pointWithinLineString</a>
  </li>


            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.html#pointWithinPolygon">pointWithinPolygon</a>
  </li>


            
          </ul>

        

          

  <li class="thing">

    
      <i class="fa fa-cube"></i>
    

    

    

    

    <a href="jsonOdm.Geo.GeometryCollection.html">GeometryCollection</a>
  </li>



          <ul class="thing-list">
            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.GeometryCollection.html#intersects">intersects</a>
  </li>


            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.GeometryCollection.html#within">within</a>
  </li>


            
          </ul>

        

          

  <li class="thing">

    
      <i class="fa fa-cube"></i>
    

    

    

    

    <a href="JsonOdm.html">JsonOdm</a>
  </li>



          <ul class="thing-list">
            
          </ul>

        

          

  <li class="thing">

    
      <i class="fa fa-cube"></i>
    

    

    

    

    <a href="jsonOdm.Geo.LineString.html">LineString</a>
  </li>



          <ul class="thing-list">
            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.LineString.html#intersects">intersects</a>
  </li>


            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.LineString.html#within">within</a>
  </li>


            
          </ul>

        

          

  <li class="thing">

    
      <i class="fa fa-cube"></i>
    

    

    

    

    <a href="jsonOdm.Geo.MultiLineString.html">MultiLineString</a>
  </li>



          <ul class="thing-list">
            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.MultiLineString.html#intersects">intersects</a>
  </li>


            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.MultiLineString.html#within">within</a>
  </li>


            
          </ul>

        

          

  <li class="thing">

    
      <i class="fa fa-cube"></i>
    

    

    

    

    <a href="jsonOdm.Geo.MultiPoint.html">MultiPoint</a>
  </li>



          <ul class="thing-list">
            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.MultiPoint.html#intersects">intersects</a>
  </li>


            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.MultiPoint.html#within">within</a>
  </li>


            
          </ul>

        

          

  <li class="thing">

    
      <i class="fa fa-cube"></i>
    

    

    

    

    <a href="jsonOdm.Geo.MultiPolygon.html">MultiPolygon</a>
  </li>



          <ul class="thing-list">
            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.MultiPolygon.html#intersects">intersects</a>
  </li>


            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.MultiPolygon.html#within">within</a>
  </li>


            
          </ul>

        

          

  <li class="thing">

    
      <i class="fa fa-cube"></i>
    

    

    

    

    <a href="jsonOdm.Geo.Point.html">Point</a>
  </li>



          <ul class="thing-list">
            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.Point.html#intersects">intersects</a>
  </li>


            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.Point.html#within">within</a>
  </li>


            
          </ul>

        

          

  <li class="thing">

    
      <i class="fa fa-cube"></i>
    

    

    

    

    <a href="jsonOdm.Geo.Polygon.html">Polygon</a>
  </li>



          <ul class="thing-list">
            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.Polygon.html#intersects">intersects</a>
  </li>


            
              

  <li class="thing">

    

    

    

    
      <i class="fa fa-cog"></i>
    

    <a href="jsonOdm.Geo.Polygon.html#within">within</a>
  </li>


            
          </ul>

        

          

  <li class="thing">

    
      <i class="fa fa-cube"></i>
    

    

    

    

    <a href="jsonOdm.Query.html">Query</a>
  </li>



          <ul class="thing-list">
            
          </ul>

        

          

  <li class="thing">

    
      <i class="fa fa-cube"></i>
    

    

    

    

    <a href="jsonOdm.Util.html">Util</a>
  </li>



          <ul class="thing-list">
            
          </ul>

        
      </ul>
    </li>
  
  </ul>
</div>

          </div>

          <div class="col-md-9">
              


    
    <section>
        <article>
            <pre class="prettyprint source"><code>"use strict";

// for code climate recognition
if (typeof jsonOdm === "undefined") {
    var jsonOdm = new JsonOdm();
}

/**
 * The Utility Class that provides some useful methods used throughout the ODM
 * @constructor
 */
jsonOdm.Util = function () {
    // nothing yet
};


/** Checks the input parameter and returns true if it is an array
 *
 * @param {*} arrayObject
 * @return {boolean}
 */
jsonOdm.Util.prototype.isArray = function (arrayObject) {
    if (!Array.isArray) {
        return Object.prototype.toString.call(arrayObject) === "[object Array]";
    }
    return Array.isArray(arrayObject);
};

/**
 * Checks the type of an object. valid type values are:
 * number, string, undefined, object, array and RegExp, ArrayBuffer, null, boolean plus all other [object *] types
 * @param {*} object The object to test against a type
 * @param {string|string[]} type All possible types that will result in a true
 * @return {boolean}
 */
jsonOdm.Util.prototype.is = function (object, type) {
    type = (typeof type === "string") ? [type] : type;
    var objectType = Object.prototype.toString.call(object);
    objectType = objectType.substring(8, objectType.length - 1).toLowerCase();
    for (var i = 0; i &lt; type.length; i++) {
        var lowerType = type[i].toLowerCase();
        if ("array" === lowerType &amp;&amp; this.isArray(object)) {
            return true;
        }
        // all object types, i.e. "[object ArrayBuffer]"
        if (lowerType === objectType) {
            return true;
        }
        // number string object
        if (typeof object === lowerType) {
            return true;
        }
    }
    return false;
};

/** Polyfill for Object.keys
 * @method objectKeysPolyfill
 * @memberof jsonOdm.Util.prototype
 * @param {Object} object The objects to get the keys from
 * @return {Array} An array of keys
 */
jsonOdm.Util.prototype.objectKeysPolyfill = (function () {
    var hasOwnProperty = Object.prototype.hasOwnProperty,
        hasDontEnumBug = !({toString: null}).propertyIsEnumerable('toString'),
        dontEnums = [
            "toString",
            "toLocaleString",
            "valueOf",
            "hasOwnProperty",
            "isPrototypeOf",
            "propertyIsEnumerable",
            "constructor"
        ],
        dontEnumsLength = dontEnums.length;

    return function (obj) {
        if (typeof obj !== "object" &amp;&amp; (typeof obj !== "function" || obj === null)) {
            throw new TypeError("Object.keys called on non-object");
        }

        var result = [], prop, i;

        for (prop in obj) {
            if (hasOwnProperty.call(obj, prop)) {
                result.push(prop);
            }
        }

        if (hasDontEnumBug) {
            for (i = 0; i &lt; dontEnumsLength; i++) {
                if (hasOwnProperty.call(obj, dontEnums[i])) {
                    result.push(dontEnums[i]);
                }
            }
        }
        return result;
    };
}());

/** Get only the keys of an object
 * @method objectKeys
 * @memberof jsonOdm.Util.prototype
 * @param {Object} object The objects to get the keys from
 * @return {Array} An array of keys
 */
jsonOdm.Util.prototype.objectKeys = Object.keys || jsonOdm.Util.prototype.objectKeysPolyfill;

/** Query an object with a function
 *
 * @param {Object|Array} object
 * @param {...String} path
 * @return {*}
 */
jsonOdm.Util.prototype.branch = function (object, path) {
    function goDown() {
        if (arguments &amp;&amp; arguments.length &amp;&amp; this) {
            var subCollection = this[arguments[0]];
            if (!subCollection) return subCollection;
            return goDown.apply(subCollection, Array.prototype.slice.call(arguments, 1));
        }
        return this
    }

    return goDown.apply(object, path);
};

/**
 * Projects an element to a projectionDefinition
 * @param {object} projection The projection definition object
 * @param {object} element The element that is projected from
 * @param {object} [parentElement] for internal recursion purpose
 * @return {object} The projected element
 * @example
 * jsonOdm.util.projectElement({
 *     key1:'value1',
 *     key2:'value2'
 * },{
 *     key1:1,
 *     key12:function(element){return element.key1 + element.key2}
 *     // only field modifying queries are allowed
 *     key2:collection.$query.$branch("key2").$substr(0,3)
 * })
 * // will return {key1:'value1',key12:'value1value2',key2:'val'}
 */
jsonOdm.Util.prototype.projectElement = function (projection, element, parentElement) {
    var projectionResult = {};
    for (var key in projection) {
        if (!projection.hasOwnProperty(key)) {
            continue;
        }
        if (projection[key] == 1) {
            projectionResult[key] = element[key]; // might be undefined or raises an error
        } else if (typeof projection[key] === "function") {
            projectionResult[key] = projection[key](parentElement || element);
        } else if (projection[key] instanceof jsonOdm.Query) {
            projectionResult[key] = projection[key].$$commandQueue[projection[key].$$commandQueue.length - 1](element);
            if (projection[key].$$accumulation !== false) projectionResult[key] = projection[key].$$accumulation;
        } else if (typeof projection[key] === "object") {
            projectionResult[key] = this.projectElement(projection[key], element[key], parentElement || element);
        }
    }
    return projectionResult;
};

jsonOdm.util = new jsonOdm.Util();</code></pre>
        </article>
    </section>




          </div>
      </div>

        <br clear="both">

      <footer>
      </footer>
      <script> prettyPrint(); </script>
    </div>
  </body>
</html>
